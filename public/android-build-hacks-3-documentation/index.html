<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    










    







<script defer language="javascript" type="text/javascript" src="/js/bundle.min.91ae35f985ba4ae6473b8defee39551f3ce6ed2769fdfa9b3df93f2eac0da4bc.js"></script>






    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">

    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    
    <link rel="icon" href=/assets/favicon.ico>

    
    





  





  
  
  


<!-- Open Graph image and Twitter Card metadata -->

<title itemprop="name">Adam Świderski - Android build hacks #3 - documentation with Dokka</title>
<meta property="og:title" content=Adam&#32;Świderski&#32;-&#32;Android&#32;build&#32;hacks&#32;#3&#32;-&#32;documentation&#32;with&#32;Dokka />
<meta name="twitter:title" content=Adam&#32;Świderski&#32;-&#32;Android&#32;build&#32;hacks&#32;#3&#32;-&#32;documentation&#32;with&#32;Dokka />
<meta itemprop="name" content=Adam&#32;Świderski&#32;-&#32;Android&#32;build&#32;hacks&#32;#3&#32;-&#32;documentation&#32;with&#32;Dokka />
<meta name="application-name" content=Adam&#32;Świderski&#32;-&#32;Android&#32;build&#32;hacks&#32;#3&#32;-&#32;documentation&#32;with&#32;Dokka />
<meta property="og:site_name" content="My New Hugo Site" />


<meta name="description" content="Generating documentation with Dokka and publishing it on GitHub walkthrough" />
<meta itemprop="description" content="Generating documentation with Dokka and publishing it on GitHub walkthrough" />
<meta property="og:description" content="Generating documentation with Dokka and publishing it on GitHub walkthrough" />
<meta name="twitter:description" content="Generating documentation with Dokka and publishing it on GitHub walkthrough" />


<base href="http://localhost:1313/android-build-hacks-3-documentation/" />
<link rel="canonical" href="http://localhost:1313/android-build-hacks-3-documentation/" itemprop="url" />
<meta name="url" content="http://localhost:1313/android-build-hacks-3-documentation/" />
<meta name="twitter:url" content="http://localhost:1313/android-build-hacks-3-documentation/" />
<meta property="og:url" content="http://localhost:1313/android-build-hacks-3-documentation/" />


<meta property="og:updated_time" content=5011-05-08T115:58:18Z />


<link rel="sitemap" type="application/xml" title="Sitemap" href='http://localhost:1313/sitemap.xml' />

<meta name="robots" content="index,follow" />
<meta name="googlebot" content="index,follow" />


<meta name="twitter:site" content="" />
<meta name="twitter:creator" content="" />
<meta property="fb:admins" content="" />


<meta name="apple-mobile-web-app-title" content="My New Hugo Site" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />





<meta property="og:type" content="article" />
<meta property="article:publisher" content="" />
<meta property="og:article:published_time" content=5011-05-08T115:58:18Z />
<meta property="article:published_time" content=5011-05-08T115:58:18Z />








<meta name="generator" content="Hugo 0.123.7">


    
    

<link type="text/css" rel="stylesheet" href="/css/bundle.min.bf4d3110fcd0b7ca2963d5dd630cbb2027b3ec79bd2a1a7a02f8244546d16737.css">


    
    <style>
    body {
        --sidebar-bg-color: #202020;
        --sidebar-img-border-color: #515151;
        --sidebar-p-color: #909090;
        --sidebar-h1-color: #FFF;
        --sidebar-a-color: #FFF;
        --sidebar-socials-color: #FFF;
        --text-color: #222;
        --bkg-color: #FAF9F6;
        --post-title-color: #303030;
        --list-color: #5A5A5A;
        --link-color: #268BD2;
        --date-color: #515151;
        --table-border-color: #E5E5E5;
        --table-stripe-color: #F9F9F9;
        --code-color: #000;
        --code-background-color: #E5E5E5;
        --code-block-color: #FFF;
        --code-block-background-color: #272822;
        --moon-sun-color: #FFF;
        --moon-sun-background-color: #515151;
    }
    body.dark-theme {
        --text-color: #EEE;
        --bkg-color: #121212;
        --post-title-color: #DBE2E9;
        --list-color: #bebebe;
        --link-color: #268BD2;
        --date-color: #9A9A9A;
        --table-border-color: #515151;
        --table-stripe-color: #202020;
        --code-color: #FFF;
        --code-background-color: #515151;
        --code-block-color: #FFF;
        --code-block-background-color: #272822;
    }
    body {
        background-color: var(--bkg-color);
    }
</style>

</head>

    <body class="dark-theme">
        <div class="wrapper">
            <aside class="sidebar">
    <div class="container sidebar-sticky">
        <div class="light-dark" align="right">
    <button class="btn-light-dark" title="Toggle light/dark mode">
        <svg class="moon" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16">
            <path fill="currentColor" d="M6 .278a.768.768 0 0 1 .08.858a7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277c.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316a.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71C0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"/>
        </svg>
        <svg class="sun" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16">
            <path fill="currentColor" d="M8 12a4 4 0 1 0 0-8a4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/>
        </svg>
    </button>
</div>

        <div class="sidebar-about">
    <h1 class="brand">
        
            <a href="http://localhost:1313/">
                <img src="/assets/profile_picture.png" alt="brand image">
            </a>
        
        
            <a href="http://localhost:1313/">
                <h1>Adam Świderski</h1>
            </a>
        
    </h1>
    <p class="lead">
    software engineer
    </p>
</div>

        <nav>
    <ul class="sidebar-nav">

        
        
        
        
            

            
                
                
            
            
                
                
                        
                
                        
                
                        
                
                        
                
                        
                
            
                
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
            
        
        
            

            
                
                
                    <li class="heading">
                        <a href="/posts/">Posts</a>
                    </li>
                    
                        <li class="sub-heading">
                            Recent
                        </li>
                        
                            <li class="bullet">
                                <a href="http://localhost:1313/2024-02-24-MVI/">Android Presentation Patterns: MVI</a>
                            </li>
                        
                            <li class="bullet">
                                <a href="http://localhost:1313/2024-02-09-MVVM/">Android Presentation Patterns: MVVM</a>
                            </li>
                        
                            <li class="bullet">
                                <a href="http://localhost:1313/2024-01-29-MVP/">Android Presentation Patterns: MVP</a>
                            </li>
                        
                            <li class="bullet">
                                <a href="http://localhost:1313/2024-01-27-MVC/">Android Presentation Patterns: MVC</a>
                            </li>
                        
                            <li class="bullet">
                                <a href="http://localhost:1313/2023-06-16-ci-is-your-friend/">Continuous Integration and Deployment: A Developer&#39;s Best Friends</a>
                            </li>
                        
                    
                
            
            
                
                
                        
                
                        
                
                        
                
                        
                
                        
                
            
                
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
                        
                
            
        

    </ul>
</nav>

        
    <a target="_blank" class="social" title="GitHub" href="https://github.com">
        <svg xmlns="http://www.w3.org/2000/svg" width="1.2em" height="1.2em" viewBox="-2 -2 24 24">
            <path fill="currentColor" d="M18.88 1.099C18.147.366 17.265 0 16.233 0H3.746C2.714 0 1.832.366 1.099 1.099C.366 1.832 0 2.714 0 3.746v12.487c0 1.032.366 1.914 1.099 2.647c.733.733 1.615 1.099 2.647 1.099H6.66c.19 0 .333-.007.429-.02a.504.504 0 0 0 .286-.169c.095-.1.143-.245.143-.435l-.007-.885c-.004-.564-.006-1.01-.006-1.34l-.3.052c-.19.035-.43.05-.721.046a5.555 5.555 0 0 1-.904-.091a2.026 2.026 0 0 1-.872-.39a1.651 1.651 0 0 1-.572-.8l-.13-.3a3.25 3.25 0 0 0-.41-.663c-.186-.243-.375-.407-.566-.494l-.09-.065a.956.956 0 0 1-.17-.156a.723.723 0 0 1-.117-.182c-.026-.061-.004-.111.065-.15c.07-.04.195-.059.378-.059l.26.04c.173.034.388.138.643.311a2.1 2.1 0 0 1 .631.677c.2.355.44.626.722.813c.282.186.566.28.852.28c.286 0 .533-.022.742-.065a2.59 2.59 0 0 0 .585-.196c.078-.58.29-1.028.637-1.34a8.907 8.907 0 0 1-1.333-.234a5.314 5.314 0 0 1-1.223-.507a3.5 3.5 0 0 1-1.047-.872c-.277-.347-.505-.802-.683-1.365c-.177-.564-.266-1.215-.266-1.952c0-1.049.342-1.942 1.027-2.68c-.32-.788-.29-1.673.091-2.652c.252-.079.625-.02 1.119.175c.494.195.856.362 1.086.5c.23.14.414.257.553.352a9.233 9.233 0 0 1 2.497-.338c.859 0 1.691.113 2.498.338l.494-.312a6.997 6.997 0 0 1 1.197-.572c.46-.174.81-.221 1.054-.143c.39.98.424 1.864.103 2.653c.685.737 1.028 1.63 1.028 2.68c0 .737-.089 1.39-.267 1.957c-.177.568-.407 1.023-.689 1.366a3.65 3.65 0 0 1-1.053.865c-.42.234-.828.403-1.223.507a8.9 8.9 0 0 1-1.333.235c.45.39.676 1.005.676 1.846v3.11c0 .147.021.266.065.357a.36.36 0 0 0 .208.189c.096.034.18.056.254.064c.074.01.18.013.318.013h2.914c1.032 0 1.914-.366 2.647-1.099c.732-.732 1.099-1.615 1.099-2.647V3.746c0-1.032-.367-1.914-1.1-2.647z"/>
        </svg>
    </a>



    <a target="_blank" class="social" title="LinkedIn" href="https://linkedin.com">
        <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1.2em" viewBox="0 0 448 512">
            <path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5c0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7c-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5c67.2 0 79.7 44.3 79.7 101.9V416z"/>
        </svg>
    </a>






    <a target="_blank" class="social" title="YouTube" href="https://youtube.com">
        <svg xmlns="http://www.w3.org/2000/svg" width="1.2em" height="1.2em" viewBox="0 0 24 24">
            <path fill="currentColor" d="M12.006 19.012h-.02c-.062 0-6.265-.012-7.83-.437a2.5 2.5 0 0 1-1.764-1.765A26.494 26.494 0 0 1 1.986 12a26.646 26.646 0 0 1 .417-4.817A2.564 2.564 0 0 1 4.169 5.4c1.522-.4 7.554-.4 7.81-.4H12c.063 0 6.282.012 7.831.437c.859.233 1.53.904 1.762 1.763c.29 1.594.427 3.211.407 4.831a26.568 26.568 0 0 1-.418 4.811a2.51 2.51 0 0 1-1.767 1.763c-1.52.403-7.553.407-7.809.407Zm-2-10.007l-.005 6l5.212-3l-5.207-3Z"/>
        </svg>
    </a>








    <a target="_blank" class="social" title="RSS Feed" href="/posts/index.xml">
        <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1.2em" viewBox="0 0 1280.000000 1280.000000">
            <g transform="translate(0.000000,1280.000000) scale(0.100000,-0.100000)" fill="currentColor">
                <path d="M2295 11929 c-284 -12 -642 -45 -707 -65 -17 -5 -18 -63 -18 -1039 0 -569 4 -1036 8 -1039 5 -3 74 6 153 19 510 86 1168 95 1789 25 1348 -153 2602 -677 3670 -1531 385 -308 820 -744 1126 -1129 842 -1060 1362 -2313 1514 -3650 70 -621 61 -1279 -25 -1789 -13 -79 -22 -148 -19 -153 3 -4 471 -8 1039 -8 l1035 0 5 23 c51 225 85 942 67 1419 -23 605 -77 1044 -198 1617 -294 1400 -927 2734 -1823 3846 -1043 1295 -2364 2259 -3909 2854 -1158 447 -2451 656 -3707 600z"/>
                <path d="M2255 7845 c-269 -25 -620 -81 -667 -106 -17 -9 -18 -55 -18 -899 0 -706 3 -890 13 -890 6 0 66 18 132 41 130 44 288 79 467 105 154 21 577 30 749 15 1207 -107 2267 -823 2814 -1902 166 -327 268 -637 330 -1001 38 -227 48 -384 42 -662 -8 -348 -44 -590 -126 -831 -23 -66 -41 -126 -41 -132 0 -10 184 -13 890 -13 844 0 890 1 899 18 27 50 88 452 110 725 14 162 14 624 1 782 -59 703 -233 1323 -545 1945 -481 956 -1313 1788 -2270 2268 -620 310 -1239 483 -1940 542 -165 14 -669 10 -840 -5z"/>
                <path d="M2519 3815 c-391 -66 -725 -336 -868 -703 -79 -201 -96 -462 -45 -677 83 -344 338 -641 666 -774 116 -47 205 -69 330 -80 412 -39 811 153 1040 500 193 292 240 648 128 981 -135 403 -492 699 -914 757 -100 14 -241 12 -337 -4z"/>
            </g>
        </svg>
    </a>


    <a target="_blank" class="social" title="Email" href="mailto://user@domain">
       <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1.2em" viewBox="0 0 485.211 485.211">
            <path fill="currentColor" d="M301.393,241.631L464.866,424.56H20.332l163.474-182.928l58.801,51.443L301.393,241.631z M462.174,60.651H23.027 l219.579,192.142L462.174,60.651z M324.225,221.67l160.986,180.151V80.792L324.225,221.67z M0,80.792v321.029L160.972,221.64 L0,80.792z"/>
       </svg>
    </a>


        <p class="footnote">
powered by <a target="_blank" href="https://gohugo.io">Hugo</a> | themed with <a target="_blank" href="https://github.com/lukeorth/poison">poison</a>
    <br>
    &copy; 2024 My New Hugo Site. All rights reserved.
</p>

  </div>
</aside>

            <main class="content container">
                <div class="post">
  <div class="info">
  <h1 class="post-title">
    <a href="http://localhost:1313/android-build-hacks-3-documentation/">Android build hacks #3 - documentation with Dokka</a>
  </h1>

  <div class="headline">
    <div>
      
      <time datetime=" 2018-11-05T20:05:58Z" class="post-date">
        November 5, 2018
      </time>
      
      <span> - </span>
      <span class="reading-time">
        
          
        

        <span>9 mins read</span>
      </span>
    </div>

    
    <ul class="tags">
      
      <li class="tag-Android">
        <a href="http://localhost:1313/tags/android">Android</a>
      </li>
      
      <li class="tag-Gradle">
        <a href="http://localhost:1313/tags/gradle">Gradle</a>
      </li>
      
      <li class="tag-build config">
        <a href="http://localhost:1313/tags/build-config">build config</a>
      </li>
      
      <li class="tag-Dokka">
        <a href="http://localhost:1313/tags/dokka">Dokka</a>
      </li>
      
      <li class="tag-documentation">
        <a href="http://localhost:1313/tags/documentation">documentation</a>
      </li>
      
    </ul>
    
  </div>

  
  

  
</div>

  <p>This is third part in series of articles about Android build configuration, all parts will be linked right below.</p>
<blockquote>
<p><strong>[#1 Build basics]({% post_url 2018-07-23-android-build-hacks %})</strong><br>
<strong>[#2 Build time optimization]({% post_url 2018-09-16-android-build-hacks-2 %})</strong><br>
<strong>[#3 Documentation with Dokka]({% post_url 2018-11-05-android-build-hacks-3 %})</strong></p>
</blockquote>
<h2 id="homework">Homework</h2>
<p>Wait what? You&rsquo;ve wrote beautiful self-documenting code and someone tells you to create <strong>DOCUMENTATION</strong> for it? It&rsquo;s already there! Well named methods and variables, design patterns used.
If anyone wants to know how it works, he just needs to read through it - <em>well named method by well named method</em>&hellip;<br>
I know IDEs are supporting that and you just need to click on method name or class to go there but be a good person, create documentation of at least public methods. Forcing people <strong>(or your future self)</strong> to go through code each time you want to understand (or remind) how it works is cruel.</p>
<p><strong>Self-documenting code is micro-documentation, it won&rsquo;t ever show the big picture.</strong></p>
<p>So if you are working with someone more than yourself - docs can help others understand your intention during code review. If you are creating library - well I won&rsquo;t be using it if it&rsquo;s not documented.<br>
I understand being rebellious about it - I was. Until I had to work with big undocumented project, that was dependent on few other projects, with many hacks done to meet those other projects requirements, without any trace of information <strong>why</strong> something was done in certain way.</p>
<h2 id="where-to-start">Where to start</h2>
<p>Start with attitude. It won&rsquo;t be rocket science, you&rsquo;ve already wrote a code that works <em>(and it&rsquo;s unit tested obviously)</em>, now just describe it in more human manner. It might seem boring, but programmers often lack soft skills like basic ability to communicate intents - take it as an exercise to make yourself a better professional.</p>
<h3 id="whats-worth-documenting">What&rsquo;s worth documenting?</h3>
<p>Not everything of course. What is the point of documenting methods like <code>fun add(a: Int, b: Int): Int</code>? And private methods, as they are not exposed to a class or library client? It actually depends on your organization standards. I&rsquo;m in favor of documenting <strong>ALL</strong> public methods, interfaces, classes, variables etc. but the same time keeping as much as possible as internal or private implementations. This way you&rsquo;ll need to document as little as possible and keep implementation nicely separated from exposed interfaces.</p>
<p>What if there&rsquo;s something <em>hacky</em> in your code that should be documented (for those who&rsquo;ll wander into it), but it&rsquo;s deeply in the implementation layer? Make a good old comment explaining it. Try to avoid it, give descriptive names or talk with colleagues if you have gut feeling something fishy is going on in your code, but making comment is not a sin if everything fails. Just remember: <strong>commenting code is not documenting it</strong>.</p>
<h3 id="basic-dokka-syntax">Basic Dokka syntax</h3>
<p>Finaly some code! This post is targeting Android developers, so people who use, or should (or would love to) use <code>Kotlin</code> in their projects, so there will be no <code>JavaDoc</code> here, no no. Say hi to <a href="https://github.com/Kotlin/dokka" target="_blank">Dokka</a> and <a href="https://kotlinlang.org/docs/reference/kotlin-doc.html" target="_blank">KDoc syntax</a>.<br>
<code>Dokka</code> is documentation engine that uses <code>KDoc</code> syntaxed comments to generate documents in one of many formats, there is also <code>JavaDoc</code> but I see no reason to use it. What I like most about <code>KDoc</code> is that linking to other methods, classes or code samples is really easy and interactive. But besides that, it&rsquo;s just like <code>JavaDoc</code>.</p>
<p>{% gist ce06150320153ea0747c6a974dad66f2 %}</p>
<p>There are basically two things here: <em>block tags</em> like <code>@param</code> and <em>inline markup</em> like <code>[member]</code>.
Available <em>block tags</em> are:</p>
<ul>
<li><code>@param</code> - method parameter description</li>
<li><code>@return</code> - documents returned value</li>
<li><code>@constructor</code> - documents primary constructor</li>
<li><code>@receiver</code> - receiver for extension functions</li>
<li><code>@property</code> - class property description</li>
<li><code>@throws</code>, <code>@exception</code> - describes exceptions thrown by method, no need to put all of them here</li>
<li><code>@sample</code> - link to code sample with documented element used</li>
<li><code>@see</code> - link to another element</li>
<li><code>@author</code> - when you feel especially proud of your code</li>
<li><code>@since</code> - version name where this element was introduced</li>
<li><code>@suppress</code> - excludes element from documentation</li>
</ul>
<p>And <em>inline markup</em> is used to create links to other parts of code like methods, classes etc.</p>
<p>To be honest I use mostly <code>@param @return @sample @throws</code> and some basic info about class or method.</p>
<h2 id="generating-documents">Generating documents</h2>
<p>After adding few comments like above one, it would be nice to finaly see the documentation. Just few steps to do so:
In project <code>build.gradle</code> add:</p>
<p>{% gist c2df0f0dc8dd6940e58a7c38582c6e3c %}</p>
<p>And in application <code>build.gradle</code>:</p>
<p>{% gist 6c2a12f66044cac9643ee67a1d703164 %}</p>
<p>This should add task <code>dokka</code> in group <code>documentation</code><br>
<img src="assets/posts/android-build-hacks-3/dokka_task.png" alt="Dokka task">{: .center-image }</p>
<p>Running this task will generate documentation in <code>docs</code> directory in project root, just as it was set in <code>outputDirectory</code>. Selected output format is <code>html</code> - minimalistic html format used by default. Other available formats are:</p>
<ul>
<li><code>javadoc</code> - Dokka mimic to javadoc</li>
<li><code>html-as-java</code> - as html but using java syntax</li>
<li><code>markdown</code> - Markdown structured as html
<ul>
<li><code>gfm</code> - GitHub flavored markdown</li>
<li><code>jekyll</code> - Jekyll compatible markdown</li>
</ul>
</li>
<li><code>kotlin-website</code> - internal format used for documentation on kotlinlang.org</li>
</ul>
<p>Adding <code>extra.md</code> to config allows you to write some info about documentation that will be added on top of <code>index.html</code> file. It can be changelog or TODOs in single or separate files.</p>
<h2 id="linking">Linking</h2>
<p>Yay, documentation is generated! But it can be even better. For now, when using classes from Kotlin standard library, RxJava or even other modules in project no hyperlinks are created. And it would be pretty cool to be able to jump from your method returning <code>Observable</code> to RxJava documentation. Also documenting methods may be even better with provided sample code in generated HTML.</p>
<h3 id="samples">Samples</h3>
<p>Providing sample code usage makes documentation even clearer than describing method parameters and return value. For user it can look like that:<br>
<img src="assets/posts/android-build-hacks-3/sample.png" alt="Code sample in generated documentation">{: .center-image }</p>
<p>To add samples you need to create separate directory for code that will not be compiled with rest of the project. I suggest directory structure as listed below:</p>
<p>{% gist adcdf38d83e3a5f6576070dd7f7f5725 %}</p>
<p>It&rsquo;s best to keep package structure in <code>sample</code> directory identical to source code, just like with unit tests. Sample code does not has to be logical or actually do anything, it&rsquo;s just to show how to use documented methods.<br>
To inform <code>Dokka</code> where is sample code in module you need to add one line to configuration:</p>
<p>{% gist 474914135109bba01805be57c7d5d19c %}</p>
<p>But for some reason your sample code is going to be documented like any other code, to avoid it add</p>
<p>{% gist 11b34b01928a89cfc1201d4ba0e3cdda %}</p>
<p>over your sample class.</p>
<h3 id="modules">Modules</h3>
<p>I&rsquo;ve had few approaches to this and best solution I&rsquo;ve found so far is to configure <code>Dokka</code> only in application module <code>build.gradle</code> and add dependency modules to <code>sourceDirs</code>. This way linking to modules documentation works perfectly, there are no problems with <code>&lt;ERROR CLASS&gt;</code> for 3rd party libraries classes, linking to source code works, and configuration for whole project is only in one file - easy to move to separate Gradle script.<br>
To add modules used by <code>app</code> to <code>Dokka</code> use fallowing code:</p>
<p>{% gist b499e52512e945ae7ae2e57ea0f9b561 %}</p>
<p>First part generates list of project dependencies that are local modules, and second part generates source code linking to each dependency and adds its path to <code>sourceDirs</code>.</p>
<h3 id="libraries">Libraries</h3>
<p>Linking 3rd party libraries easer than internal project modules, just by adding <code>externalDocumentationLink</code> with <code>url</code> pointing to <code>package-list</code> of library creates hyperlinks. Not every library documentation provides <code>package-list</code>, but most popular ones do. Sometimes it&rsquo;s necessary to provide separate link to documentation and <code>package-list</code> itself - see <code>Android</code> documentation below.</p>
<p>{% gist d0964be797db32193a2b613e5205fb98 %}</p>
<h3 id="code">Code</h3>
<p>With linked modules, samples and 3rd party libraries your documentation should look pretty professional. But you can make it even better, by linking to code on repository. If documentation is for some reason still unclear, user reading it can with single click be redirected to code of class or method and check how it works directly. It&rsquo;s kinda last resort because if your documentation is so bad that anyone who reads it has to dig into code each time - you did something very wrong.</p>
<p>{% gist ccd2624ebe618c34a3b50c814a77b4bc %}</p>
<h3 id="whole-config">Whole config</h3>
<p>I&rsquo;ve described parts of <code>Dokka</code> configuration, but I think it&rsquo;s best to show the whole thing now:</p>
<p>{% gist fe880bb2f1d2d41ce2a18cd1883df711 %}</p>
<p>I&rsquo;ve moved it to separate Gradle script <code>DokkaConfig.gradle</code> in project root directory, so in application <code>build.gradle</code> all I nedd to do is add <code>apply from: '../DokkaConfig.gradle'</code></p>
<h2 id="publish-it">Publish it</h2>
<p>After creating awesome documentation it should be available for anyone who needs it. If its documentation of your employer product, maybe host it internally. If it&rsquo;s open-source library - share it with rest of the world just like your code.<br>
Distribution depends on your needs, and output format depends on your distribution way. <code>Html</code> may be best for internal hosting or putting it on your company website - copy generated files and provide link to main documentation <code>index.html</code>, also custom <code>css</code> can be added to style content.</p>
<h3 id="when">When</h3>
<p>It also depend on your case. You may want to generate documentation after each push to <code>develop</code> branch, or just after creating a <code>release</code>. Or both :)<br>
I suggest generating after (or during) each release.<br>
Another thing is how many versions of documentation you should keep. For internal use only last release may be enough, for open-source library it would be nice to keep all releases, or at least major ones. Nice example is <a href="https://www.11ty.io/docs/versions/" target="_blank">https://www.11ty.io/docs/versions/</a>.</p>
<p>But for now lets focus on having at least most recent version of documentation, since <code>Dokka</code> doesn&rsquo;t have in-build tools to support documentation versioning and this is whole new topic.</p>
<h3 id="github-pages">GitHub Pages</h3>
<p>One of output formats of <code>Dokka</code> documentation is <code>gfm</code> which stands for <code>GitHub flavored markdown</code>. It allows you to publish for free your documentation via <code>GitHub Pages</code>. What are GitHub Pages? Well this blog is one :) basically they are <code>html</code> websites generated from <code>markdown</code> by <code>Jekyll</code>. It works kinda automagically, if you generate your documentation to <code>/docs</code> directory, and in your GitHub repo settings you select GitHub Pages source as <code>master branch /docs folder</code> it will regenerate website each time you push to branch <code>master</code>.
<img src="assets/posts/android-build-hacks-3/github_pages.png" alt="GitHub Pages settings"></p>
<p>Also you can select one of few themes for your documentation.</p>
<p><img src="assets/posts/android-build-hacks-3/github_pages_themes.png" alt="GitHub Pages settings"></p>
<p>Website generation takes a minute, and after your fresh documentation will be available at <code>http://{your GitHub nickname}.github.io/{your repo name}/</code> so for my project it&rsquo;s <a href="http://asvid.github.io/GdzieTaBiedra/" target="_blank">http://asvid.github.io/GdzieTaBiedra/</a></p>
<p>Unfortunately GitHub pages does not support multiple versions of documentation, at least out of the box.</p>
<p>More info about Github Pages: <a href="https://help.github.com/articles/configuring-a-publishing-source-for-github-pages/" target="_blank">https://help.github.com/articles/configuring-a-publishing-source-for-github-pages/</a></p>
<h2 id="tldr">TL;DR</h2>
<p><code>Dokka</code> is great tool for documenting <code>Kotlin</code> code. Documenting is not such pain as it may sound. Github Pages makes publishing generated documentation easy and free of charge. All code mentioned above comes from my project <a href="https://github.com/asvid/GdzieTaBiedra" target="_blank">GdzieTaBiedra</a> and generated documentation is available <a href="http://asvid.github.io/GdzieTaBiedra/" target="_blank">HERE</a></p>

  
  <hr>
<div class="footer">
    
	    
            <a class="previous-post" href="http://localhost:1313/android-build-hacks-2/?ref=footer"><span style="font-weight:bold;">« Previous</span><br>Android Build Hacks #2 - build time optimization</a>
        
	    
            <div class="next-post">
                <a href="http://localhost:1313/overlibrarization/?ref=footer"><span style="font-weight:bold;">Next »</span><br>Overlibrarization</a>
            </div>
        
    
</div>

  
</div>
            </main>
            
  
    <div class="article-toc ">
    <div class="toc-wrapper">
      <h4 id="contents"></h4>
      <nav id="TableOfContents">
  <ul>
    <li><a href="#homework">Homework</a></li>
    <li><a href="#where-to-start">Where to start</a>
      <ul>
        <li><a href="#whats-worth-documenting">What&rsquo;s worth documenting?</a></li>
        <li><a href="#basic-dokka-syntax">Basic Dokka syntax</a></li>
      </ul>
    </li>
    <li><a href="#generating-documents">Generating documents</a></li>
    <li><a href="#linking">Linking</a>
      <ul>
        <li><a href="#samples">Samples</a></li>
        <li><a href="#modules">Modules</a></li>
        <li><a href="#libraries">Libraries</a></li>
        <li><a href="#code">Code</a></li>
        <li><a href="#whole-config">Whole config</a></li>
      </ul>
    </li>
    <li><a href="#publish-it">Publish it</a>
      <ul>
        <li><a href="#when">When</a></li>
        <li><a href="#github-pages">GitHub Pages</a></li>
      </ul>
    </li>
    <li><a href="#tldr">TL;DR</a></li>
  </ul>
</nav>
    </div>
</div>

  

        </div>
    </body>
</html>
